%% ------------------------------------------------------
%% Verbatim
%% ------------------------------------------------------

\usepackage{upquote} % Real quotes in verbatim environment
\usepackage{verbatim} % Reimplemntation of the original verbatim
 
%% ------------------------------------------------------
%% Listings package 
%% ------------------------------------------------------

\usepackage{listings}
  \lstset{%
    basicstyle=\scriptsize\ttfamily,
    tabsize=3,
    showtabs=false,
    showspaces=false,
    showstringspaces=false,
    tab=\rightarrowfill,
    keywordstyle=\color{ListingsKeywordColor},
    commentstyle=\color{ListingsCommentColor},
    stringstyle=\color{ListingsStringColor},
    frame=none,
    rulesepcolor=\color{ListingsRuleSepColor},
    numbers=none, 
    numberstyle=\tiny, 
    numbersep=5pt,
    captionpos=top,
    firstnumber=1,
    stepnumber=5,
    numberfirstline=false,
    breaklines=true,
    morekeywords={}
}

  \lstloadlanguages{R}

%% ------------------------------------------------------
%% Algorithm environments
%% ------------------------------------------------------

\usepackage{algorithm}

\usepackage{algorithmic}        % for pseudocode
  \renewcommand{\algorithmicrequire}{\textbf{Input:}}
  \renewcommand{\algorithmicensure}{\textbf{Output:}}
  
  \makeatletter
\newenvironment{inlinealgorithm}[1]{%
  \def\@fs@cfont{\bfseries}%
  \let\@fs@capt\relax%
  \par\noindent%
  %\medskip%
  \rule{\linewidth}{.8pt}%
  \vspace{-10pt}%
  \noindent\captionof{algorithm}{#1}%
  \vspace{-0.7\baselineskip}%
  \noindent\rule{\linewidth}{.4pt}%
  \vspace{-1.3\baselineskip}%
  %% My hack, as algorithmic uses the overall number of lines in the whole document for labels, instead of using the description from within a single algorithm
  \renewcommand*\theALC@unique{\theALC@line}
}{%
  \vspace{-.75\baselineskip}%
  \rule{\linewidth}{.4pt}%
  \medskip%
}
\makeatother